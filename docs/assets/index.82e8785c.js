import{d as U,w as ne,S as y,i as v,s as C,c as F,e as $,a as c,b as g,u as M,g as O,f as q,t as d,h as p,j as h,k as H,l as _,n as E,m as b,o as w,p as k,q as z,r as S,v as I,x as P,y as A,z as se,A as T,B as le,C as re,D,E as L,F as G,G as J,H as oe,I as ae,J as ie}from"./vendor.f7f13f60.js";const fe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(l){if(l.ep)return;l.ep=!0;const n=t(l);fetch(l.href,n)}};fe();const N=(()=>{const r=[],{subscribe:e,set:t,update:s}=ne(r);return{subscribe:e,set:t,reset:()=>t(r),addPassage:l=>{s(n=>n=[...n,l])}}})(),ue=U(N,r=>r.reduce((e,t)=>e.set(t.chapter,[...e.get(t.chapter)||[],t]),new Map)),ce=U(N,r=>{var e;return((e=r[r.length-1])==null?void 0:e.chapter)||1});function de(r){let e,t;const s=r[1].default,l=F(s,r,r[0],null);return{c(){e=$("h1"),l&&l.c(),c(e,"class","text-2xl text-indigo-400 font-black mt-20 mb-4 indent-6")},m(n,o){g(n,e,o),l&&l.m(e,null),t=!0},p(n,[o]){l&&l.p&&(!t||o&1)&&M(l,s,n,n[0],t?q(s,n[0],o,null):O(n[0]),null)},i(n){t||(d(l,n),t=!0)},o(n){p(l,n),t=!1},d(n){n&&h(e),l&&l.d(n)}}}function me(r,e,t){let{$$slots:s={},$$scope:l}=e;return r.$$set=n=>{"$$scope"in n&&t(0,l=n.$$scope)},[l,s]}class K extends y{constructor(e){super();v(this,e,me,de,C,{})}}function pe(r){let e,t;const s=r[1].default,l=F(s,r,r[0],null);return{c(){e=$("p"),l&&l.c(),c(e,"class","font-serif dark:text-gray-50 indent-6")},m(n,o){g(n,e,o),l&&l.m(e,null),t=!0},p(n,[o]){l&&l.p&&(!t||o&1)&&M(l,s,n,n[0],t?q(s,n[0],o,null):O(n[0]),null)},i(n){t||(d(l,n),t=!0)},o(n){p(l,n),t=!1},d(n){n&&h(e),l&&l.d(n)}}}function ge(r,e,t){let{$$slots:s={},$$scope:l}=e;return r.$$set=n=>{"$$scope"in n&&t(0,l=n.$$scope)},[l,s]}class he extends y{constructor(e){super();v(this,e,ge,pe,C,{})}}function _e(r){let e,t,s,l;return{c(){e=H("svg"),t=H("circle"),s=H("path"),c(t,"class","opacity-25"),c(t,"cx","12"),c(t,"cy","12"),c(t,"r","10"),c(t,"stroke","currentColor"),c(t,"stroke-width","4"),c(s,"class","opacity-75"),c(s,"fill","currentColor"),c(s,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),c(e,"data-testid","UISpinner"),c(e,"class",l="animate-spin "+r[0]),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"width",r[1]),c(e,"height",r[1])},m(n,o){g(n,e,o),_(e,t),_(e,s)},p(n,[o]){o&1&&l!==(l="animate-spin "+n[0])&&c(e,"class",l),o&2&&c(e,"width",n[1]),o&2&&c(e,"height",n[1])},i:E,o:E,d(n){n&&h(e)}}}function $e(r,e,t){let{class:s=""}=e,{size:l="2em"}=e;return r.$$set=n=>{"class"in n&&t(0,s=n.class),"size"in n&&t(1,l=n.size)},[s,l]}class be extends y{constructor(e){super();v(this,e,$e,_e,C,{class:0,size:1})}}function V(r){let e,t;return e=new be({props:{class:"ml-1 mb-0.5 text-inherit inline-block",size:"1em"}}),{c(){b(e.$$.fragment)},m(s,l){w(e,s,l),t=!0},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function we(r){let e,t,s,l,n,o;const m=r[5].default,a=F(m,r,r[4],null);let f=r[1]&&V();return{c(){e=$("button"),a&&a.c(),t=z(),f&&f.c(),e.disabled=r[1],c(e,"class",s=""+((r[3][r[2]]||r[3].primary)+" "+r[0]+" border hover:bg-indigo-800 focus:bg-indigo-800 dark:text-indigo-50 dark:bg-indigo-700 focus:outline-none focus:ring focus:ring-offset-2 ring-indigo-400 dark:ring-offset-gray-700 rounded-full px-6 py-2 text-center whitespace-nowrap ease-out duration-200 transition-colors")),S(e,"opacity-75",r[1]),S(e,"cursor-not-allowed",r[1])},m(i,u){g(i,e,u),a&&a.m(e,null),_(e,t),f&&f.m(e,null),l=!0,n||(o=I(e,"click",r[6]),n=!0)},p(i,[u]){a&&a.p&&(!l||u&16)&&M(a,m,i,i[4],l?q(m,i[4],u,null):O(i[4]),null),i[1]?f?u&2&&d(f,1):(f=V(),f.c(),d(f,1),f.m(e,null)):f&&(P(),p(f,1,1,()=>{f=null}),A()),(!l||u&2)&&(e.disabled=i[1]),(!l||u&5&&s!==(s=""+((i[3][i[2]]||i[3].primary)+" "+i[0]+" border hover:bg-indigo-800 focus:bg-indigo-800 dark:text-indigo-50 dark:bg-indigo-700 focus:outline-none focus:ring focus:ring-offset-2 ring-indigo-400 dark:ring-offset-gray-700 rounded-full px-6 py-2 text-center whitespace-nowrap ease-out duration-200 transition-colors")))&&c(e,"class",s),u&7&&S(e,"opacity-75",i[1]),u&7&&S(e,"cursor-not-allowed",i[1])},i(i){l||(d(a,i),d(f),l=!0)},o(i){p(a,i),p(f),l=!1},d(i){i&&h(e),a&&a.d(i),f&&f.d(),n=!1,o()}}}function ke(r,e,t){let{$$slots:s={},$$scope:l}=e,{class:n=""}=e,{disabled:o=!1}=e,{theme:m="primary"}=e;const a={primary:"text-white bg-gray-900 border-transparent",secondary:"text-indigo-800 bg-white border-indigo-800 hover:text-white focus:text-white"};function f(i){se.call(this,r,i)}return r.$$set=i=>{"class"in i&&t(0,n=i.class),"disabled"in i&&t(1,o=i.disabled),"theme"in i&&t(2,m=i.theme),"$$scope"in i&&t(4,l=i.$$scope)},[n,o,m,a,l,s,f]}class Q extends y{constructor(e){super();v(this,e,ke,we,C,{class:0,disabled:1,theme:2})}}function R(r){let e,t;return e=new K({props:{$$slots:{default:[ye]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},m(s,l){w(e,s,l),t=!0},p(s,l){const n={};l&2049&&(n.$$scope={dirty:l,ctx:s}),e.$set(n)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function ye(r){let e;return{c(){e=L(r[0])},m(t,s){g(t,e,s)},p(t,s){s&1&&G(e,t[0])},d(t){t&&h(e)}}}function W(r){let e,t,s,l;t=new Q({props:{disabled:!r[2],$$slots:{default:[ve]},$$scope:{ctx:r}}});let n=r[5]&&X(r);return{c(){e=$("div"),b(t.$$.fragment),s=z(),n&&n.c(),c(e,"class","flex")},m(o,m){g(o,e,m),w(t,e,null),_(e,s),n&&n.m(e,null),l=!0},p(o,m){const a={};m&4&&(a.disabled=!o[2]),m&2048&&(a.$$scope={dirty:m,ctx:o}),t.$set(a),o[5]?n?(n.p(o,m),m&32&&d(n,1)):(n=X(o),n.c(),d(n,1),n.m(e,null)):n&&(P(),p(n,1,1,()=>{n=null}),A())},i(o){l||(d(t.$$.fragment,o),d(n),l=!0)},o(o){p(t.$$.fragment,o),p(n),l=!1},d(o){o&&h(e),k(t),n&&n.d()}}}function ve(r){let e;return{c(){e=L("Add passage")},m(t,s){g(t,e,s)},d(t){t&&h(e)}}}function X(r){let e,t;return e=new Q({props:{theme:"secondary",class:"ml-auto",$$slots:{default:[Ce]},$$scope:{ctx:r}}}),e.$on("click",r[7]),{c(){b(e.$$.fragment)},m(s,l){w(e,s,l),t=!0},p(s,l){const n={};l&2048&&(n.$$scope={dirty:l,ctx:s}),e.$set(n)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function Ce(r){let e;return{c(){e=L("Start new chapter")},m(t,s){g(t,e,s)},d(t){t&&h(e)}}}function ze(r){let e,t,s,l,n,o,m,a=r[3]&&R(r),f=r[4]&&W(r);return{c(){e=$("form"),a&&a.c(),t=z(),s=$("textarea"),l=z(),f&&f.c(),c(s,"class","w-full mb-16 font-serif dark:text-gray-50 indent-6 focus:outline-none text-xl leading-relaxed"),c(s,"placeholder","Add your passage to the story\u2026")},m(i,u){g(i,e,u),a&&a.m(e,null),_(e,t),_(e,s),T(s,r[1]),_(e,l),f&&f.m(e,null),n=!0,o||(m=[I(s,"click",r[9]),I(s,"input",r[10]),I(e,"submit",le(r[6]))],o=!0)},p(i,[u]){i[3]?a?(a.p(i,u),u&8&&d(a,1)):(a=R(i),a.c(),d(a,1),a.m(e,t)):a&&(P(),p(a,1,1,()=>{a=null}),A()),u&2&&T(s,i[1]),i[4]?f?(f.p(i,u),u&16&&d(f,1)):(f=W(i),f.c(),d(f,1),f.m(e,null)):f&&(P(),p(f,1,1,()=>{f=null}),A())},i(i){n||(d(a),d(f),n=!0)},o(i){p(a),p(f),n=!1},d(i){i&&h(e),a&&a.d(),f&&f.d(),o=!1,re(m)}}}function Pe(r,e,t){let s,l,n;D(r,ce,j=>t(8,n=j));let o,m=!0,a=!1,f=!1;function i(){t(2,m=!1);const j={html:o,chapter:s};N.addPassage(j),this.reset(),t(4,f=!1),t(3,a=!1),t(2,m=!0)}function u(){t(0,s=s+1),t(3,a=!0)}const B=()=>t(4,f=!0);function te(){o=this.value,t(1,o)}return r.$$.update=()=>{r.$$.dirty&256&&t(0,s=n),r.$$.dirty&257&&t(5,l=s===n)},[s,o,m,a,f,l,i,u,n,B,te]}class Ae extends y{constructor(e){super();v(this,e,Pe,ze,C,{})}}function Y(r,e,t){const s=r.slice();return s[1]=e[t][0],s[2]=e[t][1],s}function Z(r,e,t){const s=r.slice();return s[5]=e[t],s}function Be(r){let e=r[1]+"",t;return{c(){t=L(e)},m(s,l){g(s,t,l)},p(s,l){l&1&&e!==(e=s[1]+"")&&G(t,e)},d(s){s&&h(t)}}}function Se(r){let e,t=r[5].html+"",s;return{c(){e=new ie,s=ae(),e.a=s},m(l,n){e.m(t,l,n),g(l,s,n)},p(l,n){n&1&&t!==(t=l[5].html+"")&&e.p(t)},d(l){l&&h(s),l&&e.d()}}}function x(r){let e,t;return e=new he({props:{$$slots:{default:[Se]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},m(s,l){w(e,s,l),t=!0},p(s,l){const n={};l&257&&(n.$$scope={dirty:l,ctx:s}),e.$set(n)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function ee(r){let e,t,s,l;t=new K({props:{$$slots:{default:[Be]},$$scope:{ctx:r}}});let n=r[2],o=[];for(let a=0;a<n.length;a+=1)o[a]=x(Z(r,n,a));const m=a=>p(o[a],1,1,()=>{o[a]=null});return{c(){e=$("section"),b(t.$$.fragment),s=z();for(let a=0;a<o.length;a+=1)o[a].c();c(e,"class","text-xl leading-relaxed")},m(a,f){g(a,e,f),w(t,e,null),_(e,s);for(let i=0;i<o.length;i+=1)o[i].m(e,null);l=!0},p(a,f){const i={};if(f&257&&(i.$$scope={dirty:f,ctx:a}),t.$set(i),f&1){n=a[2];let u;for(u=0;u<n.length;u+=1){const B=Z(a,n,u);o[u]?(o[u].p(B,f),d(o[u],1)):(o[u]=x(B),o[u].c(),d(o[u],1),o[u].m(e,null))}for(P(),u=n.length;u<o.length;u+=1)m(u);A()}},i(a){if(!l){d(t.$$.fragment,a);for(let f=0;f<n.length;f+=1)d(o[f]);l=!0}},o(a){p(t.$$.fragment,a),o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);l=!1},d(a){a&&h(e),k(t),J(o,a)}}}function Ie(r){let e,t,s,l,n=[...r[0]],o=[];for(let a=0;a<n.length;a+=1)o[a]=ee(Y(r,n,a));const m=a=>p(o[a],1,1,()=>{o[a]=null});return s=new Ae({}),{c(){e=$("main");for(let a=0;a<o.length;a+=1)o[a].c();t=z(),b(s.$$.fragment),c(e,"class","max-w-prose mx-auto")},m(a,f){g(a,e,f);for(let i=0;i<o.length;i+=1)o[i].m(e,null);_(e,t),w(s,e,null),l=!0},p(a,[f]){if(f&1){n=[...a[0]];let i;for(i=0;i<n.length;i+=1){const u=Y(a,n,i);o[i]?(o[i].p(u,f),d(o[i],1)):(o[i]=ee(u),o[i].c(),d(o[i],1),o[i].m(e,t))}for(P(),i=n.length;i<o.length;i+=1)m(i);A()}},i(a){if(!l){for(let f=0;f<n.length;f+=1)d(o[f]);d(s.$$.fragment,a),l=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(s.$$.fragment,a),l=!1},d(a){a&&h(e),J(o,a),k(s)}}}function Le(r,e,t){let s;return D(r,ue,l=>t(0,s=l)),oe(async()=>{const n=await(await fetch("catscradle.json")).json();N.set(n)}),[s]}class Ne extends y{constructor(e){super();v(this,e,Le,Ie,C,{})}}new Ne({target:document.body});
